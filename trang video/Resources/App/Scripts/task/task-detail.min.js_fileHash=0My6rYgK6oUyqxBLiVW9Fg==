function eventGitLink(){$('input[name="LinkGit"]').keyup(function(){this.value!=""?($("#btnSubmitCode").removeAttr("disabled"),IsEnableSumbit=!0,IsProccessPost=!1,IsPassRun=!0,IsSubmit=!0):($("#btnSubmitCode").attr("disabled","disabled"),IsEnableSumbit=!1,IsProccessPost=!0,IsPassRun=!1,IsSubmit=!1)})}function updateTimeLimit(n){$(".time-limit").each(function(){var t=$(this).attr("time");$(this).text(parseInt(Math.round(n*t*UNIT_TIME))+" ms")})}function getCodeId(n){return localStorage.getItem(n)}function setCodeId(n){localStorage.setItem(keyCode,n)}function buildGroupData(n){for(var r,t,u=[],f=n.reduce(function(n,t){return t.SectionName==null&&(t.SectionName="null"),n[t.SectionName]=n[t.SectionName]||[],n[t.SectionName].push(t),n},{}),e=Object.keys(f).map(function(n){return{SectionName:n,data:f[n]}}),i=0;i<e.length;i++)for(r=e[i].data,t=0;t<r.length;t++)u.push(r[t]);return u}function getSetCode(n,t){for(var i,u="",r=0;r<ArrTaskDetail.taskDetail.length;r++)if(i=ArrTaskDetail.taskDetail[r],i.LanguageId==n){t.length>0?i.Code=t:u=Base64.decode(i.Code);break}return u}function closePopUp(){nextTaskId>0&&($(".task-list-select ul li[data="+nextTaskId+"]").removeClass("notAllowNext"),$(".task-list-select ul li[data="+nextTaskId+"]").unbind("click"),$(".task-list-select ul li[data="+nextTaskId+"]").click(function(){modal.confirm({content:translate.instant("TASK_DETAIL_CONFIRM_SWITH_TASK"),OnSuccess:function(){location="/"+api.index+nextTaskId+(token!=""?"?token="+token:"")}})}));$("#stay-page").unbind("click");$("#stay-page").click(function(){$(".TMSModal").modal("toggle")})}var ArrTaskDetail=[],ArrTaskList=[],ArrAllTaskList=[],ArrTestCase=[],ArrLeaderBoard=[],findDot="...",nextId=0,keyCode="keycode",imgCup=resourcePath+"/Images/code-learn/congratulations.svg",nextTaskId=0,remindSubmit=0,limitSubmit=0,isLoadPage=!0,isEditTask=!1,defaultLimitTimeOut="Time limit exceed",isShowWarning120=!1,IsSubmit=!1,IsPassRun=!1,IsActionSubmit=!1,IsReset=!1,_languageSelect="",downTime,timeLoad=0,UNIT_TIME=1e3,imgDefault=resourcePath+"/Images/code-learn/user-default.svg",imgPoint=resourcePath+"/Images/code-learn/task-point.svg?v=11",linkEditTaskId=0,configType={Course:"1",Training:"2",Contests:"3",Challenge:"4"},fixScroll={Fixed:19,Position:30},isTaskGit=!1,IsEnableSumbit=!1,quizTasks={},currentTabIndex=0,isShowWorkouttime=!1,isQuiz=!1,blockTime=0,TEMP_PAGE_INFO,compilerMsgs=["Something wrong with data","Server Busy","Please try again later","Text is too long"],avatarDefault="/Themes/TheCodeCampPro/Resources/Images/code-learn/avatar-default.svg",CodeSate=function(){var n=[],t=function(t){for(var r=null,i=0;i<n.length;i++)n[i].intTaskId==t&&(r=i);return r};return{setCodeSate:function(i,r,u,f){var s=n.filter(function(n){return n.intTaskId==i}),o,e;for(s.length==0&&n.push({intTaskId:i,codeTemps:r}),o=t(i),e=0;e<n[o].codeTemps.length;e++)u==n[o].codeTemps[e].LanguageId&&(n[o].codeTemps[e].Code=f)},getCodeSate:function(i,r,u){var o=t(i),e,s,f;for(o==null&&(n.push({intTaskId:i,codeTemps:u}),o=t(i)),e=n[o].codeTemps,s=null,f=0;f<e.length;f++)e[f].LanguageId==r&&(s=e[f]);return s}}}(),CL=function(){function st(){_languageSelect!=""&&(LANG_CURRENT=_languageSelect);$('#select-language option[value="'+LANG_CURRENT+'"]').length>0?($("div#"+LANG_CURRENT).removeClass("hide"),$("#select-language").val(LANG_CURRENT)):$("div#"+$("#select-language").val()).removeClass("hide");$("#select-language").change(function(){var n=$(this).val();_languageSelect=n;$("div.tab-language").each(function(){$(this).attr("id")==n?$(this).removeClass("hide"):$(this).addClass("hide")})})}var n={},i=[],t=null,e=null,a={intWitdh:0,intHeight:0},rt=function(n){if(n.hasClass("selected")){$('input[type="checkbox"]',n).prop("checked",!1);n.removeClass("selected");return}$('input[type="checkbox"]',n).prop("checked",!0);n.addClass("selected")},ut=function(n){var t=$("#list-answer");n.hasClass("selected")||($("li",t).not(n).removeClass("selected"),n.addClass("selected"),$('input[type="radio"]',n).prop("checked",!0))},v=function(){var n=$("li input:checked",$("#list-answer")).length>0;n?$("#btnSubmitCode").removeAttr("disabled"):$("#btnSubmitCode").attr("disabled","disabled")},ft=function(){var n=$("#list-answer"),t=$("#btnSubmitCode").attr("remindsubmit");t<1&&$("#btnSubmitCode").remove();n.on("click","li",function(){ArrTaskDetail.IsMultiChoice?rt($(this)):ut($(this));v()})},r=function(i){var r,f,u;if(ArrTaskDetail.IsQuiz){if(i.Choices==null||i.Choices.length==0)return;var o=ArrTaskDetail.IsMultiChoice?"checkbox":"radio",s=ArrTaskDetail.IsMultiChoice?"answer[]":"answer",h=ArrTaskDetail.IsMultiChoice?"multi-select":"single-select",c=i.Choices.map(function(n){var t=n.IsChecked?"checked":"",i=n.IsChecked?" selected":"";return'<li class="'+h+i+'">                        <div class="select">                            <input type="'+o+'" value="'+n.ChoiceId+'" name="'+s+'" '+t+'/>                            <span class="checkmark"><\/span>                        <\/div>                        <div class="content">'+n.Text+"<\/div>                    <\/li>"}).join(""),l='<div class="quiz-container" id="quiz-container">                                <div class="list" id="list-answer">                                    <ul>'+c+"<\/ul>                                <\/div>                            <\/div>";$(n.codeRender).html(l);ft();return}t||(e=null,$(n.codeRender).empty(),t=monaco.editor.create(document.getElementById(n.codeRender.replaceAll("#","")),{model:null,language:ArrTaskDetail.taskDetail.langCode,scrollbar:{vertical:"auto",horizontal:"auto"},autoIndent:!0,minimap:{enabled:!1},theme:"vs-dark",automaticLayout:!0,autoSize:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace'}),y(),setTimeout(function(){!0||isEdit||$("#course-help").modal("toggle")},1500));r=t.getModel();ArrTaskDetail.taskDetail.Code==null&&(ArrTaskDetail.taskDetail.Code="");f=monaco.editor.createModel(i.CodeContent,i.modeId);t.setModel(f);t.model.onDidChangeContent(function(){isEdit||$("#btnSubmitCode").attr("disabled","");IsEnableSumbit=!1;var i=t.getValue(),r=$("#ddlCLLang option:selected").attr("id").getNumber();CodeSate.setCodeSate(n.intTaskId,ArrTaskDetail.Task.codeTemps,r,i);r==ArrTaskDetail.taskDetail.LanguageId&&(ArrTaskDetail.taskDetail.Code=Base64.encode(i))});if(ArrTaskDetail.Task.task.SampleCode!=""){const n=t.getModel();if(u=n.findMatches(findDot),u.length>0){const n=u[0].range;t.setSelection(n);t.getAction("actions.find").run();t.onDidScrollChange(function(n){n.scrollTop<=fixScroll.Fixed&&t.setScrollPosition({scrollTop:fixScroll.Position})});t.getScrollTop()<=fixScroll.Fixed&&t.setScrollPosition({scrollTop:fixScroll.Position})}}r&&r.dispose();$("#ddlCLLang").val(i.intLangID)},et=function(n,t){for(var r=0,i=0;i<n.length;i++)n[i].modeId==t&&(r=i);return r},ot=function(n){var t={selectLanguage:"",txt:""},u=n.ListDescription.length,r,i;if(u>1){for(t.selectLanguage+='<div class="container-language">',t.selectLanguage+='<select class="form-control" id="select-language">',r=0;r<n.ListDescription.length;r++)i=n.ListDescription[r],t.selectLanguage+='<option value="'+i.Key+'">'+i.DisplayName+"<\/option>",t.txt+='<div class="tab-language hide" id="'+i.Key+'">'+i.Value+"<\/div>";t.selectLanguage+="<\/select ><\/div>"}else u==1&&(t.txt='\t\t        <div class="tab-language" id="'+n.ListDescription[0].Key+'">'+n.ListDescription[0].Value+"<\/div>            ");return t},ht=function(){var l=encodeURIComponent(api.index+n.intTaskId+"&"),a=ArrTaskDetail.IsQuiz?ArrTaskDetail.Description:ArrTaskDetail.Task.task.Description,e=ArrTaskDetail.IsQuiz?ArrTaskDetail.OwnerId:ArrTaskDetail.Task.task.OwnerId,o=ArrTaskDetail.IsQuiz?ArrTaskDetail.OwnerName:ArrTaskDetail.Task.task.Owner,s=ArrTaskDetail.IsQuiz?ArrTaskDetail.TaskLevel:ArrTaskDetail.Task.level.Name,t=ArrTaskDetail.IsQuiz?ArrTaskDetail.TaskLevel:ArrTaskDetail.Task.level.Name,h=ArrTaskDetail.IsQuiz?ArrTaskDetail.Point:ArrTaskDetail.Task.task.Point,i=ot(ArrTaskDetail.IsQuiz?ArrTaskDetail:ArrTaskDetail.Task.task),r="",c=ArrTaskDetail.IsQuiz||isTaskGit?!1:ArrTaskDetail.Task.task.SampleCode=="",u,f;switch(t.toLowerCase()){case"easy":t=translate.instant("SYSTEM_STATUS_EASY");break;case"medium":t=translate.instant("SYSTEM_STATUS_MEDIUM");break;case"hard":t=translate.instant("SYSTEM_STATUS_HARD")}ArrTaskDetail.IsQuiz||isTaskGit||ArrTaskDetail.Task.task.LimitCodeCharacters>0&&(r+=translate.instant("TASK_DETAIL_LABEL_CHARACTER_LIMIT")+' <span style="color:red;margin-left: 0px;">'+ArrTaskDetail.Task.task.LimitCodeCharacters+"<\/span>");u=c?'<a href="#" class="link-to-help"><i class="ti-help-alt"><\/i> '+translate.instant("TASK_DETAIL_LINK_TO_HELP")+"<\/a>":"";f='            <div class="list-view-status">                <div class="left-view-status">                <div id="task-owner" class="task-level"><i class="ti-user"><\/i><a href="'+cvUrl+e+'">'+o+'<\/a><\/div>                <div id="task-level" class="task-level '+s.toLowerCase()+'">'+t+'<\/div>                <div id="task-point" class="task-level" title="Task point"><img class="img-point" src="'+imgPoint+'">'+h+" "+translate.instant("TASK_DETAIL_LABEL_POINT")+'<\/div>                <\/div>                <div class="right-view-status">                    <div id="task-limit-code" class="task-level">'+r+"<\/div>                    "+i.selectLanguage+'                <\/div>            <\/div>            <div class="description-code-content">            '+i.txt+u+"            <\/div>";$(n.codeView).html(f);st();Prism.highlightAll();$(document).on("click",".link-to-help",function(){$(document).find('.code-panel-left .menu>li[action="4"]').trigger("click")})},y=function(){$(n.panel).find(".code-panel-right .el-loading-mask").remove()},ct=function(){$(n.codeView).paging({url:(isQuiz?apiQuiz.getLeaderBoard:api.getLeaderBoard)+n.intTaskId+(api.index.toLowerCase().startsWith("challenge")?"&id="+groupId:""),loading:$(".code-panel-left"),OnRender:function(t,i,u){var e=function(){return!t&&t.length<=0?"<tr><td colspan='10'>"+translate.instant("SYSTEM_LABEL_NO_DATA")+"<\/td><\/tr>":(ArrLeaderBoard=t,_.map(t,function(t,i){var f="",e="",o=t.RegisteredId?t.RegisteredId:t.UserId,r;t.MaxScoreSubmitIndex>0&&(f='<span class="times-submitted">('+(Number(t.MaxScoreSubmitIndex)>1?t.MaxScoreSubmitIndex+" "+translate.instant("STATUS_SUBMIT_INDEX_TRIES"):t.MaxScoreSubmitIndex+" "+translate.instant("STATUS_SUBMIT_INDEX_TRY"))+")<\/span>");r=ArrTaskDetail.IsQuiz?t.SubmitterAvatarUrl:t.UserAvatarUrl;(r==null||r=="")&&(r=avatarDefault);e=n.type==configType.Contests&&isTeam?"<td class='user-entry'>"+t.UserName.trim()+"<\/td>":isEditTask?"<td class='user-entry'><div class='user-avatar-frame "+t.UserLevel.LevelCssClass+"'><img class='level-avatar' src='"+s3Storage+t.UserExpLevel.IconUrl+"'/><img class='top-user-avatar' src='"+s3Storage+r+"'/><\/div>"+t.UserName.trim()+"<\/td>":"<td class='user-entry'><div class='user-avatar-frame "+t.UserLevel.LevelCssClass+"'><img class='level-avatar' src='"+s3Storage+t.UserExpLevel.IconUrl+"'/><img class='top-user-avatar' src='"+s3Storage+r+"'/><\/div><a href='"+cvUrl+t.UserId+"'>"+t.UserName.trim()+"<\/a><\/td>";var h=ArrTaskDetail.IsQuiz?"":"<td>"+(t.LanguageName||"-")+"<\/td>",c=ArrTaskDetail.IsQuiz?"":"<td>"+(t.MaxExcuteTime>-1&&t.MaxExcuteTime>=t.MinExcuteTime?Math.ceil(t.MinExcuteTime/10)/100+" - "+Math.ceil(t.MaxExcuteTime/10)/100:"0")+"<\/td>",s=$("                            <tr data='"+i+"' teamId='"+o+"' class='row-team "+$.fn.isVal(o==userId,!0,"CLSItem current","")+"'>                                <td data-rank='"+(u.intRowFrom+i)+"'>"+(u.intRowFrom+i)+"<\/td>                                "+e+h+"<td>"+(t.Score||"0")+f+"<\/td>"+c+"<td>"+(t.SubmittedTime.getLocalDate()||"-")+"<\/td>                            <\/tr>");return s[0].Model=t,s}))},o=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_LANGUAGE")+"<\/th>",s=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_TOTAL_EXCUTE_TIME")+"<\/th>",f=$("                <div class='panel panel-default'>                    <table class='table table-leaderboard'>                        <tr>                            <th>"+translate.instant("TASK_DETAIL_LABEL_NO")+"<\/th>                            <th>"+translate.instant("TASK_DETAIL_LABEL_NAME")+"<\/th>"+o+"<th>"+translate.instant("TASK_DETAIL_LABEL_SCORE")+"<\/th>"+s+"<th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_TIME")+"<\/th>                        <\/tr>                    <\/table>                <\/div'>");f.find(".table.table-leaderboard").append(e());i.empty().append(f);isEdit?i.find(".row-team").click(function(){var t=$(this).attr("teamId");$(n.panel).find(".menu > li[action=2]").trigger("click",{teamId:t})}):i.find(".current").click(function(){var f=$(this).attr("data").getNumber(),u=ArrLeaderBoard[f],t=$("#ddlCLLang option"),e=$(this).attr("teamId"),i=null,n;if(ArrTaskDetail.IsQuiz)i=this.Model;else for(n=0;n<t.length;n++)$(t[n]).attr("id").getNumber()==u.LanguageId&&(i={modeId:$(t[n]).attr("code"),CodeContent:Base64.decode(u.Code),intLangID:$(t[n]).attr("id").getNumber()});i!=null&&(ArrTaskDetail.IsQuiz||modal.confirm({content:translate.instant("TASK_DETAIL_CONFIRM_LOAD_LEADERBOARD"),OnSuccess:function(){r(i)}}))})}})},p=function(n,t){if(isTestCenter)$("#list-answer li input").each(function(){$(this).attr("value")==t?($(this).prop("checked",!0),$(this).parents("li").addClass("selected")):$(this).parents("li").removeClass("selected")});else{var i=$(n).data("sub-id");$.get(api.getQuizSubmittedChoiceIds,"submissionId="+i,function(n){var t=n.Data;t&&($("#list-answer li").removeClass("selected"),$("#list-answer li input").each(function(){var n=t.includes(parseInt(this.value));$(this).prop("checked",n);n&&$(this).parents("li").addClass("selected")}))})}},s=function(n,t){PKLService.get({url:"/Training/IsIsBestSolution?id="+n+"&type="+t,OnSuccess:function(n){n&&n.Errors&&n.Errors.length==0&&(NOFICATION_GLOBAL?NOFICATION_GLOBAL.update({message:translate.instant(n.Message)}):NOFICATION_GLOBAL=$.notify(translate.instant(n.Message)))}})},h=function(t,i){if(TEMP_PAGE_INFO&&i&&TEMP_PAGE_INFO.totalRecode>1){var u=TEMP_PAGE_INFO&&TEMP_PAGE_INFO.currPage||1;$(".pagination li a.number[data="+u+"]").trigger("click",[{action:"reload",currentPage:u}]);return}t&&t.hasOwnProperty("teamId")&&$(n.codeView).paging({url:(isQuiz?apiQuiz.getHistory:api.getHistory)+n.intTaskId+"&UserId="+t.teamId+(api.index.toLowerCase().startsWith("challenge")?"&challengeId="+groupId:"")+(token!=""?"&token="+token:""),urlRender:!0,loading:$(".code-panel-left"),OnRender:function(n,t,i){TEMP_PAGE_INFO=i;var u=function(){return!n||n.length<=0?"<tr><td colspan='10'>"+translate.instant("SYSTEM_LABEL_NO_DATA")+"<\/td><\/tr>":_.map(n,function(n,t){var f=0,o=ArrTaskDetail.IsQuiz?"":"<td>"+(isTaskGit?"-":n.LanguageName)+"<\/td><td>"+n.TestCase+"<\/td>",u=ArrTaskDetail.IsQuiz?n.SubmitterAvatarUrl:n.UserAvatarUrl,e,r;if((u==null||u=="")&&(u=avatarDefault),e=ArrTaskDetail.IsQuiz?"":"<td>"+(n.TotalExcuteTime>-1?Math.ceil(n.TotalExcuteTime/10)/100:"0")+"<\/td>",n.Choices)for(r=0;r<n.Choices.length;r++)n.Choices[r].IsChecked&&(f=n.Choices[r].ChoiceId);return"                                <tr choiceid='"+f+"'  rowId='"+t+"' class='submit-history submit-item-"+n.Id+"' data-sub-id='"+n.Id+"'>                                    <td>"+(i.intRowFrom+t)+"<\/td>                                    <td>"+n.SubmittedTime.getLocalDate()+"<\/td>"+o+"<td>"+(n.Score>0?n.Score:"0")+"<\/td>"+e+"<td class='user-entry'>                                    <div class='user-avatar-frame "+n.UserLevel.LevelCssClass+"'><img class='level-avatar' src='"+s3Storage+n.UserExpLevel.IconUrl+"'/><img class='top-user-avatar' src='"+s3Storage+u+"'/><\/div><a href='"+cvUrl+n.UserId+"'>"+n.SubmittedBy+"<\/a><\/td>                                 "+(!isEdit||isQuiz?"":"<td>"+(n.IsBestSolution?"<i title='"+translate.instant("TASK_DETAIL_LABEL_TITLE_DELETE_BEST_SOLUTION")+"' submitid='"+n.Id+"' class='delete-solution ti-trash'><\/i>":"<i title='"+translate.instant("TASK_DETAIL_LABEL_TITLE_BEST_SOLUTION")+"' submitid='"+n.Id+"' class='add-solution ti-share'><\/i>")+"<\/td > ")+"                                <\/tr > "}).join("")},f=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_LANGUAGE")+"<\/th>",e=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_TESTCASE")+"<\/th>",o=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_TOTAL_EXCUTE_TIME")+"<\/th>";t.html("                    <div class='panel panel-default'>                        <table class='table table-submit-history'>                            <tr>                                <th>"+translate.instant("TASK_DETAIL_LABEL_NO")+"<\/th>                                <th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_TIME")+"<\/th>"+f+e+"<th>"+translate.instant("TASK_DETAIL_LABEL_SCORE")+"<\/th>"+o+"<th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_BY")+"<\/th>                    "+(!isEdit||isQuiz?"":" <th> "+translate.instant("ADMIN_LABEL_ACTION")+"<\/th> ")+"                    <\/tr >                         "+u()+"                        <\/table>                    <\/div'>");t.find(".submit-history").click(function(){var u,t,f,i;if($(".submit-history").removeClass("active"),$(this).addClass("active"),ArrTaskDetail.IsQuiz)p(this,$(this).attr("choiceid"));else if(u=$(this).attr("rowId"),u!=undefined){if(t=$("#ddlCLLang option"),f=null,t.length==0)$('input[name="LinkGit"]').val(Base64.decode(n[u].Code));else for(i=0;i<t.length;i++)$(t[i]).attr("id").getNumber()==n[u].LanguageId&&(f={modeId:$(t[i]).attr("code"),intLangID:$(t[i]).attr("id").getNumber(),CodeContent:Base64.decode(n[u].Code)});f!=null&&r(f)}});isEdit&&(t.find(".add-solution").click(function(){var n=confirm(translate.instant("TASK_DETAIL_LABEL_CONFIRM_BEST_SOLUTION"));n==!0&&(s($(this).attr("submitid"),!0),setTimeout(function(){h({teamId:0},!0)},500))}),t.find(".delete-solution").click(function(){var n=confirm(translate.instant("TASK_DETAIL_LABEL_DELETE_BEST_SOLUTION"));n==!0&&(s($(this).attr("submitid"),!1),setTimeout(function(){h({teamId:0},!0)},500))}))}})},w=function(t){if(TEMP_PAGE_INFO&&TEMP_PAGE_INFO.totalRecode>1&&t){var i=TEMP_PAGE_INFO&&TEMP_PAGE_INFO.currPage||1;$(".pagination li a.number[data="+i+"]").trigger("click",[{action:"reload",currentPage:i}]);return}$(n.codeView).paging({url:api.getSolution+n.intTaskId,urlRender:!0,loading:$(".code-panel-left"),OnRender:function(n,t,i){var e;TEMP_PAGE_INFO=i;var o=i.intRowFrom,h="<th>"+translate.instant("TASK_DETAIL_LABEL_LANGUAGE")+"<\/th>",c="<th>"+translate.instant("TASK_DETAIL_LABEL_TESTCASE")+"<\/th>",l="<th>"+translate.instant("TASK_DETAIL_LABEL_TOTAL_EXCUTE_TIME")+"<\/th>",u="<div class='panel panel-default'>";if(u+="<table class='table submit-history'><tr><th>"+translate.instant("TASK_DETAIL_LABEL_NO")+"<\/th>",u+="<th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_TIME")+"<\/th>",u+=h,u+=c,u+="<th>"+translate.instant("TASK_DETAIL_LABEL_SCORE")+"<\/th>",u+=l,u+="<th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_BY")+"<\/th>",u+=!isEdit||n.length==0?"":"<th>"+translate.instant("ADMIN_LABEL_ACTION")+"<\/th>",u+="<\/tr>",n.length>0)for(e=0;e<n.length;e++){var f=n[e],a="<td>"+f.LanguageName+"<\/td><td>"+f.TestCase+"<\/td>",v=f.UserAvatarUrl,y="<td>"+(f.TotalExcuteTime>-1?Math.ceil(f.TotalExcuteTime/10)/100:"0")+"<\/td>";u+="<tr data='"+e+"' class='CLSItem' data-sub-id='"+f.Id+"'><td>"+o+"<\/td>";u+="<td>"+f.SubmittedTime.getLocalDate()+"<\/td>";u+=a;u+="<td>"+(f.Score>0?f.Score:"0")+"<\/td>";u+=y;u+="<td class='user-entry'><div class='user-avatar-frame "+f.UserLevel.LevelCssClass+"'><img class='level-avatar' src='"+s3Storage+f.UserExpLevel.IconUrl+"'/><img class='top-user-avatar' src = '"+s3Storage+v+"' /><\/div > "+f.SubmittedBy+"<\/td>";u+=isEdit?"<td><i title='"+translate.instant("TASK_DETAIL_LABEL_TITLE_DELETE_BEST_SOLUTION")+"' submitid='"+f.Id+"' class='delete-solution ti-trash'><\/i><\/td>":"";u+="<\/tr>";o=o+1}else u=u+"<tr><td colspan='7'>"+translate.instant("SYSTEM_LABEL_NO_DATA")+"<\/td><\/tr>";u=u+"<\/table><\/div>";t.html(u);t.find(".CLSItem").click(function(){var u=$(this).attr("data"),i,f,t;if(u!=undefined)if(isTaskGit)$('input[name="LinkGit"]').val(Base64.decode(n[u].Code));else{for(i=$("#ddlCLLang option"),f=null,t=0;t<i.length;t++)$(i[t]).attr("id").getNumber()==n[u].LanguageId&&(f={modeId:$(i[t]).attr("code"),intLangID:$(i[t]).attr("id").getNumber(),CodeContent:Base64.decode(n[u].Code)});f!=null&&r(f)}});isEdit&&t.find(".delete-solution").click(function(){var n=confirm(translate.instant("TASK_DETAIL_LABEL_DELETE_BEST_SOLUTION"));n==!0&&(s($(this).attr("submitid"),!1),setTimeout(function(){w(!0)},500))})}})},lt=function(){$(n.codeView).paging({url:(isQuiz?apiQuiz.getHistory:api.getHistory)+n.intTaskId+(token!=""?"&token="+token:""),urlRender:!0,loading:$(".code-panel-left"),OnRender:function(n,t,i){var c=i.intRowFrom,v=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_LANGUAGE")+"<\/th>",y=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_TESTCASE")+"<\/th>",w=ArrTaskDetail.IsQuiz?"":"<th>"+translate.instant("TASK_DETAIL_LABEL_TOTAL_EXCUTE_TIME")+"<\/th>",u="<div class='panel panel-default'>",h,e,f,o,l,s,a;if(u+="<table class='table submit-history'><tr><th>"+translate.instant("TASK_DETAIL_LABEL_NO")+"<\/th>",u+="<th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_TIME")+"<\/th>",u+=v,u+=y,u+="<th>"+translate.instant("TASK_DETAIL_LABEL_SCORE")+"<\/th>",u+=w,u+="<th>"+translate.instant("TASK_DETAIL_LABEL_SUBMIT_BY")+"<\/th><\/tr>",h=0,n)for(e=0;e<n.length;e++){if(f=n[e],h=!1,f.Choices)for(o=0;o<f.Choices.length;o++)f.Choices[o].IsChecked&&(h=f.Choices[o].ChoiceId);l=ArrTaskDetail.IsQuiz?"":"<td>"+(isTaskGit?"-":f.LanguageName)+"<\/td><td>"+f.TestCase+"<\/td>";s=ArrTaskDetail.IsQuiz?f.SubmitterAvatarUrl:f.UserAvatarUrl;(s==null||s=="")&&(s=avatarDefault);a=ArrTaskDetail.IsQuiz?"":"<td>"+(f.TotalExcuteTime>-1?Math.ceil(f.TotalExcuteTime/10)/100:"0")+"<\/td>";u+="<tr choiceid='"+h+"' data='"+e+"' class='CLSItem' data-sub-id='"+f.Id+"'><td>"+c+"<\/td>";u+="<td>"+f.SubmittedTime.getLocalDate()+"<\/td>";u+=l;u+="<td>"+(f.Score>0?f.Score:"0")+"<\/td>";u+=a;u+="<td class='user-entry'><div class='user-avatar-frame "+f.UserLevel.LevelCssClass+"'><img class='level-avatar' src='"+s3Storage+f.UserExpLevel.IconUrl+"'/><img class='top-user-avatar' src = '"+s3Storage+s+"' /><\/div > "+f.SubmittedBy+"<\/td ><\/tr > ";c=c+1}else u=u+"<tr><td colspan='10'>"+translate.instant("SYSTEM_LABEL_NO_DATA")+"<\/td><\/tr>";u=u+"<\/table><\/div>";t.html(u);t.find(".CLSItem").click(function(){var i,u,f,t;if(ArrTaskDetail.IsQuiz)p(this,$(this).attr("choiceid"));else if(i=$(this).attr("data"),i!=undefined)if(isTaskGit)$('input[name="LinkGit"]').val(Base64.decode(n[i].Code));else{for(u=$("#ddlCLLang option"),f=null,t=0;t<u.length;t++)$(u[t]).attr("id").getNumber()==n[i].LanguageId&&(f={modeId:$(u[t]).attr("code"),intLangID:$(u[t]).attr("id").getNumber(),CodeContent:Base64.decode(n[i].Code)});f!=null&&modal.confirm({content:translate.instant("TASK_DETAIL_CONFIRM_LOAD_HISTORY"),OnSuccess:function(){r(f)}})}})}})},u=function(){var i=$(n.panel).find(".ui-resizable-e"),f=$(".cl-header").outerHeight(),t=window.innerHeight-f,r=window.innerWidth-$(n.panel).find(".code-panel-left").width()-3,e=$(n.panel).find(".code-panel-right .code-view").height()+1,u;$(n.panel).find(".code-panel-right").css({height:t+"px",width:r+"px"});$(n.panel).find(".code-panel-right .el-loading-mask").css({height:t+"px",width:r+"px"});$(n.panel).find(".code-panel-right .code-view").css({width:r+"px"});$(n.panel).find(".code-panel-left").css({height:t+"px"});$(n.panel).find(".code-panel-left .el-loading-mask").css({width:$(n.panel).find(".code-panel-left").width()+"px"});a.intViewCodeHeight=t;t=$(n.panel).find(".code-panel-right").height()-$(n.panel).find(".input-header").height();$(n.panel).find(".code-panel-right").find(".code-input").css({height:t-e+"px"});u=$(n.panel).find(".code-panel-left").height();i.attr("init")==undefined&&(i.append("<i class='ti-arrows-horizontal'><\/i>"),i.attr("init",1));i.find("i").css({top:(u-32)/2+"px",position:"relative"});!typeof AdaptiveIframe||AdaptiveIframe()},b=function(){var e,r,t,u,h,c,v,y;if(ArrTaskList&&(e=-1,ArrTaskList.length>0)){for(n.type==configType.Contests&&(ArrTaskList=buildGroupData(ArrTaskList)),r="<ul>",t=0;t<ArrTaskList.length;t++){var i=ArrTaskList[t],l=!1,a="",o=ArrTaskDetail.StartIndex+1+t,s=ArrTaskDetail.TasksComplete.indexOf(i.TaskId)>-1;n.intTaskId==ArrTaskList[t].TaskId&&(l=!0,e=t+1);e==t&&(e=t,nextTaskId=ArrTaskList[t].TaskId);s&&(positionComplete=t);isEdit||o-2>ArrTaskDetail.LastTriedTaskIndex&&ArrTaskDetail.TaskDependencies;n.type==configType.Contests&&(o=String.fromCharCode(t+65),!isEdit&&currentTime<i.Time&&(a="notAllowNext"));u="";h="";ArrTaskDetail.TasksFail!=null&&ArrTaskDetail.TasksFail.length>0&&ArrTaskDetail.TasksFail.indexOf(i.TaskId)>-1&&(u="not-pass",!isVisibleQuizResult&&i.IsQuiz&&(s=!0,u=""));c="";v=i.TaskCategory==3;v&&(h+=" contains-link",c="data-link='"+((api.index.startsWith("/")?"":"/")+api.index+i.TaskId)+"'");r+="<li quiz='"+i.IsQuiz+"' data-toggle='tooltip' "+c+" time='"+i.Time+"' submit='"+s+"' title='"+i.Point+"' data-placement='bottom' class='"+u+" "+h+" "+$.fn.isVal(l,!0,"active")+" "+a+"' data='"+i.TaskId+"'>";y=u==""?$.fn.isVal(s,!0,"<i class='cl-icon-check'><\/i>",o):o;r+=y;r+="<\/li>"}r=r+"<\/ul>";$(n.panel).find(".task-list-select").html(r);$(n.panel).find(".task-name").parents("td").css({width:"41%"});$(n.panel).find(".task-list-select").parents(".select-list").css({width:"44%"});$(n.panel).find(".task-list-select").find("li:not(.active)").click(function(){var t=$(this).attr("data").getNumber(),n;isQuiz=$(this).attr("quiz")=="true";n=$(this).data("link");modal.confirm({content:translate.instant("TASK_DETAIL_CONFIRM_SWITH_TASK"),OnSuccess:function(){if(n){location.href=n;return}nextId=t;isLoadComment&&loadCommentsTrigger.updateContentId(t);isLoadPage=!0;f()}})});$(n.panel).find(".task-list-select").find("li.notAllowNext").unbind("click")}},k=function(){var t=-1,i=$(n.panel).find(".task-list-select li[submit='false']");return i.length>0&&(t=$(i[0]).attr("data").getNumber()),t},at=function(){setInterval(function(){currentTime++;$(".task-list-select ul li.notAllowNext").each(function(){var n=parseInt($(this).attr("time"));n<currentTime&&($(this).removeClass("notAllowNext"),$(this).click(function(n){modal.confirm({content:translate.instant("TASK_DETAIL_CONFIRM_SWITH_TASK"),OnSuccess:function(){nextId=nextTaskId;loadCommentsTrigger.updateContentId(taskId);isLoadPage=!0;f()},OnClose:function(){n.Data&&n.Data.SwitchToViewHistory&&l()}})}))})},UNIT_TIME)},d=function(){require.config({baseUrl:s3Storage+"/"+n.strNodeModule,catchError:!0});requirejs.onError=function(){$.notify(translate.instant("WARNING_LOAD_EDITER"),{type:"warning",delay:7e3})};require([n.strRequireModule],function(){var o=function(){var t=monaco.languages.getLanguages().map(function(n){return n.id});return t.sort(),t.map(function(t){return{modeId:t,sampleURL:s3Storage+"/"+n.strSampleURL+t+".txt"}})}(),s=function(t,i,r,u){var h=et(t,i),o=t[h],s=ArrTaskDetail.Task.task.SampleCode,f="",e;return u.length>0?f=Base64.decode(u):s!=""?f=s:(e=CodeSate.getCodeSate(n.intTaskId,r,ArrTaskDetail.Task.codeTemps),f=e?e.Code:""),o.CodeContent=f,o},t,f,u,e;for(strHTML="",t=0;t<i.length;t++)strHTML+="<option ratio='"+i[t].RatioTime+"' id='"+i[t].Id+"' code='"+i[t].Code+"' value='"+i[t].Id+"'>"+i[t].Name+"<\/option>";$("#ddlCLLang").html(strHTML);$("#ddlCLLang").change(function(){var n=parseInt($("#ddlCLLang option:selected").attr("id").getNumber()),t,i=getSetCode(n,"");updateTimeLimit($("#ddlCLLang option:selected").attr("ratio"));i!=""?t={modeId:$("#ddlCLLang option:selected").attr("code"),CodeContent:i,intLangID:n}:(t=s(o,$("#ddlCLLang option:selected").attr("code"),n,""),t.intLangID=n);r(t)});f=getCodeId(keyCode);u={LangId:$("#ddlCLLang option:first").attr("id"),LangCode:$("#ddlCLLang option:first").attr("code"),Code:""};f!=null&&$("#ddlCLLang option[id="+f+"]").length>0&&(u={LangId:f,LangCode:$("#ddlCLLang option[id="+f+"]").attr("code"),Code:""});ArrTaskDetail.taskDetail.length>0&&(u={LangId:ArrTaskDetail.taskDetail[0].LanguageId,LangCode:ArrTaskDetail.taskDetail.langCode,Code:ArrTaskDetail.taskDetail[0].Code});e=s(o,u.LangCode,u.LangId,u.Code);e.intLangID=u.LangId;r(e);updateTimeLimit($("#ddlCLLang option[id="+u.LangId+"]").attr("ratio"))});n.type!=configType.Training&&b();n.type!=configType.Contests||isEdit||at();u();yt();window.addEventListener("resize",function(){t&&t.layout();e&&e.layout();u()})},vt=function(){var t=$(n.panel).find(".code-panel-right"),i;t.prepend(PKLService.createLoading());i=t.find(".el-loading-mask");i.addClass("el-loading-in-content");i.css({width:t.width()+"px","background-color":"rgba(255,255,255,0.8)",height:t.height()+"px",top:"auto",left:"auto",right:"auto",bottom:"auto"})},yt=function(){$("#btnRunCode").show();$("#btnSubmitCode").show()},g=function(t){if(!(t<0)&&limitSubmit>0&&!(isEdit&&n.type!=configType.Training))if(remindSubmit--,remindSubmit<=0)$("#btnRunCode").remove(),$("#btnSubmitCode").remove();else{var i='<i class="fa fa-floppy-o" style="margin-right:5px;"><\/i>'+translate.instant("TASK_DETAIL_ACTION_SUBMIT")+"("+remindSubmit+")";$("#btnSubmitCode").empty().append(i)}},c=function(){var st=window.innerWidth,at=Math.floor(st*.4),i="",nt=ArrTaskDetail.IsQuiz?ArrTaskDetail.Title:ArrTaskDetail.Task.task.DisplayName,o=PKLService.url(),yt="",rt="",l,ut,ft,wt,bt,p,e,it,s,c,et,kt,ot;if(configType.Course==n.type&&(nt=ArrTaskDetail.SectionName+" : "+(ArrTaskDetail.IsQuiz?nt:ArrTaskDetail.Task.task.DisplayName)),n.intId==0?o+=isEditTask?api.editTask+n.intTaskId:"tasks":(l="",n.type==configType.Training&&(l="TRAINING_INDEX",o+=api.listTask),n.type==configType.Contests&&(o+=api.back+n.intId),n.type==configType.Course?o+=api.back+n.permalink+(token!=""?"?token="+token:""):n.type==configType.Challenge&&(l="CHALLENGE_INDEX",o+=api.back),l&&(ut=sessionStorage,ut&&(ft=ut.getItem(l),ft&&(o=ft)))),(n.type==configType.Contests||isCountDown)&&(yt='<td style="float: right;margin: 15px;"><div class="clock-timmer"><div class="time-count-down"><\/div><\/div><\/td>'),i=i+'<div class="cl-header">                <div class="task-button"><a href="'+o+'"><i class="glyphicon glyphicon-menu-left"><\/i><\/a><\/div>                <div class="task-name" title="'+nt+'">'+nt+'<\/div>                <div class="task-list-select"><\/div>                '+yt+'                <\/div>            <div class="cl-task-main-content">                <div class="code-panel-left" style = "width:'+at+'px;" >',isNotAuthen||(rt='<li action="2" title="'+translate.instant("TASK_DETAIL_LABEL_SUBMISSION_HISTORY")+'"><a><i class="ti-time"><\/i><\/a><\/li>             '+(isSolution?'<li class="'+((isEdit||ArrTaskDetail.IsPass)&&!isQuiz?"":"hide")+'" action="5" title="'+translate.instant("TASK_DETAIL_LABEL_BEST_SOLUTION")+'"><a><i class="ti-light-bulb"><\/i><\/a><\/li>':""),isLoadComment&&(rt+='<li action="3" title="'+translate.instant("COURSE_LABEL_COMMENTS")+' "><a><i class="ti-comment-alt"><\/i><span id="total-comments-count"><\/span><\/a><\/li>')),n.intId>0?i+='           <ul class="menu">                <li action="0" title="'+translate.instant("TASK_DETAIL_LABEL_PROBLEM")+'"><a><i class="ti-book"><\/i><\/a><\/li>                <li action="1" class="'+(isLoadLeaderboard?"":"hide")+'" title ="'+translate.instant("TASK_DETAIL_LABEL_LEADER_BOARD")+'"><a><i class="ti-list"><\/i><\/a>                '+rt+"                "+(faqId>0?'<li action="4" title="'+translate.instant("PAGE_FAQ")+'"><a><i class="ti-help-alt"><\/i><\/a>':"")+"            <\/ul > ":i=i+'<ul class="menu"><li action="0" title="'+translate.instant("TASK_DETAIL_LABEL_PROBLEM")+'"><a><i class="ti-book"><\/i><\/a><\/li><\/ul>',wt=ArrTaskDetail.IsQuiz?'<div id="'+n.codeRender.replaceAll("#","")+'" class="code-input"><\/div>':'<div id="'+n.codeRender.replaceAll("#","")+'" class="code-input"><\/div>                            <div class="code-view test-case-container">                            <div class="code-view-header"><a class="icon-show-hide up" show="1"><i class="ti-angle-down"><\/i><i class="ti-angle-up"><\/i><\/a>                                <ul class="view-ouput"><li class="active" index="0">'+translate.instant("TASK_DETAIL_MENU_TEST_CASE")+'<\/li><li index="1" style="display:none;">'+translate.instant("TASK_DETAIL_MENU_CONSOLE")+'<\/li><\/ul><\/div><div class="code-view-content"><\/div><\/div>',bt="<li>"+(ArrTaskDetail.IsQuiz?"":'<span class="expand"><i class="ti-arrows-corner"><\/i><\/span><select id="ddlCLLang" class="lang"><\/select>')+"<\/li>",i=i+'<div class="tab-content"><div id="'+n.codeView.replaceAll("#","")+'"><\/div><\/div>            <\/div>            <div class="code-panel-right" style="width:'+(st-at)+'px;">                <div class="input-header">                    <ul class="left-menu">'+bt+'<li><a id="btnResetCL" class="reset"><i class="ti-reload"><\/i><span>'+translate.instant("TASK_DETAIL_LABEL_RESET")+"<\/span><\/a><\/li><\/ul><\/div>"+wt+'<div class="cl-wrap-task-footer">',p="",isNotAuthen||(isEditTask&&(i+='<a id="edit-task" href="'+api.editTask+linkEditTaskId+'" class="btn btn-sm"><i class="ti-pencil" style="margin-right:5px;"><\/i>'+translate.instant("TASK_DETAIL_ACTION_LABEL_EDIT_TASK")+"<\/a>"),ArrTaskDetail.IsQuiz||(p+='<a class="btn btn-sm btn-run-code" id="btnRunCode"><i class="ti-control-forward" style="margin-right:5px;"><\/i>'+translate.instant("TASK_DETAIL_ACTION_RUN_CODE")+"<\/a>"),n.intId==0?i+=p:(ArrTaskDetail.PermissionSubmit==!0||isEdit)&&(ArrTaskDetail.IsQuiz?(limitSubmit=ArrTaskDetail.SubmissionNumberLimit,remindSubmit=n.type==configType.Training?limitSubmit:limitSubmit-ArrTaskDetail.TotalSubmit):(limitSubmit=ArrTaskDetail.Task.task.LimitNumberSubmit,remindSubmit=ArrTaskDetail.UserTask?limitSubmit-ArrTaskDetail.TotalSubmit:limitSubmit),limitSubmit==0?i+=p+'<a class="btn btn-sm btn-submit-code" disabled id="btnSubmitCode"><i class="ti-save" style="margin-right:5px;"><\/i>'+translate.instant("TASK_DETAIL_ACTION_SUBMIT")+"<\/a>":(ArrTaskDetail.UserTask==null||limitSubmit-ArrTaskDetail.TotalSubmit>0)&&(i+=p+'<a remindsubmit="'+remindSubmit+'" class="btn btn-sm btn-submit-code" disabled id="btnSubmitCode"><i class="ti-save" style="margin-right:5px;"><\/i>'+translate.instant("TASK_DETAIL_ACTION_SUBMIT")+(isEdit&&n.type!=configType.Training||remindSubmit<=0?"":"("+remindSubmit+")")+"<\/a>"))),i+="<\/div>            <\/div>            <\/div>        <\/div> ",$(n.panel).html(i),isTaskGit&&($("#pnCLRender").append(txtGit),$("#link-git-container .container-action").append($("#login-header")),$("#link-git-container .container-action").append($("#edit-task")),isEdit||$("#link-git-container .container-action").append($("#btnSubmitCode").addClass("git")),limitSubmit=ArrTaskDetail.Task.task.LimitNumberSubmit,remindSubmit=ArrTaskDetail.UserTask?limitSubmit-ArrTaskDetail.TotalSubmit:limitSubmit,remindSubmit>0&&($("#link-git-container #btnSubmitCode").text(translate.instant("TASK_DETAIL_ACTION_SUBMIT")+" ("+remindSubmit+")"),eventGitLink())),e=$(n.panel).find(".code-view .code-view-header ul li"),e.click(function(){var n=$(this).attr("index").getNumber();CodeView.action(n);$(".code-view-content .tab-active").removeClass("tab-active");n==1?$(".wrap-main-console").addClass("tab-active"):$(".wrap-test-cases").addClass("tab-active");e.removeClass("active");$(this).addClass("active")}),CodeView.init({intTaskId:n.intTaskId,intId:n.intId,type:n.type,scope:$(n.panel).find(".code-panel-right .code-view"),activeTab:function(n){$(e[n]).click()},activeMainTab:function(){f()},OnNexTask:function(t){n.intTaskId=t;f()},setSubmit:function(n){IsEnableSumbit=n;n!=!0&&$("#btnSubmitCode").attr("disabled","")},showHideTab:function(n,t){t==!0?$(e[n]).show():$(e[n]).hide()}}),$(e[0]).click(),!isEdit&&!isEditTask&&(n.type==configType.Contests||isCountDown)){$(document).on("contextmenu",function(n){ArrTaskDetail.IsQuiz&&n.preventDefault()});$(document).on("keydown",function(n){if(ArrTaskDetail.IsQuiz&&(n.keyCode==123||n.ctrlKey&&n.shiftKey&&n.keyCode==73||n.ctrlKey&&n.shiftKey&&n.keyCode==74||n.keyCode==83&&(navigator.platform.match("Mac")?n.metaKey:n.ctrlKey)||n.ctrlKey&&n.keyCode==85))return!1});$(document).on("cut copy paste",function(n){ArrTaskDetail.IsQuiz&&n.preventDefault()})}ArrTaskDetail.IsQuiz?(r(ArrTaskDetail),isEdit||isEditTask||$("body").addClass("disable-inspect")):(vt(),$("body").removeClass("disable-inspect"));(n.type==configType.Contests||isCountDown)&&(duration=duration-timeLoad,isFinish?$(".time-count-down").text(translate.instant("PAGES_BATCH_ACTIONS_EXPIRED")):startTimer(duration,$(".time-count-down"),!1,function(){$(".time-count-down").text(translate.instant("PAGES_BATCH_ACTIONS_EXPIRED"));isShowWorkouttime||(isShowWorkouttime=!0,modal.popup({title:translate.instant("SYSTEM_CONFIRM_CONFIRM_TITLE"),content:translate.instant("TASK_DETAIL_FINISH_WORK_OUT_TIME"),OnClose:function(){IsReset=!0;isTestCenter?window.open(o,"_self"):f();n.scope.find(".compiler-console").html("");$("#btnRunCode,#btnSubmitCode").remove()}}))}),duration>0&&(it=!1,clearInterval(downTime),downTime=setInterval(function(){--duration;duration>0&&duration<121&&(it?($(".clock-timmer").addClass("clock-timmer-white").removeClass("clock-timmer-red"),it=!1):($(".clock-timmer").addClass("clock-timmer-red").removeClass("clock-timmer-white"),it=!0));duration<0&&clearInterval(downTime)},UNIT_TIME)));$(n.panel).find("a.icon-show-hide").click(function(){var r=$(this).attr("show").getNumber(),i,t;for(r==1?($(this).removeClass("up").addClass("down"),$(this).attr("show",0),i=(window.innerHeight-84)*.3,$(n.panel).find(".code-panel-right").find(".code-view").css({height:i+"px"})):($(this).removeClass("down").addClass("up"),$(this).attr("show",1),$(n.panel).find(".code-panel-right").find(".code-view").css({height:"35px"})),t=0;t<e.length;t++)$(e[t]).hasClass("active")==!0&&$(e[t]).click();u()});$(n.panel).find("a.icon-show-hide").click();a.intWitdh=$(n.panel).width();$(n.panel).find(".code-panel-left").resizable({handles:"e",resize:function(){u();$(n.panel).find(".code-panel-right").find(".monaco-editor .scrollbar,canvas").hide()},stop:function(){$(n.panel).find(".code-panel-right").find(".monaco-editor .scrollbar,canvas").show()}});$(n.panel).find(".code-panel-right .code-view").resizable({handles:"n",stop:function(t,i){var r=window.innerHeight-84;$(n.panel).find(".code-panel-right").find(".code-input").css({height:r-i.size.height+"px"});$(this).css({top:"auto",left:"auto"});i.size.height+40>r?$(this).find(".code-view-content").css({height:r-80+"px"}):$(this).find(".code-view-content").css({height:i.size.height-35+"px"});u()},resize:function(n,t){t.size.height<34&&(t.size.height=34)}});$(n.panel).find(".menu > li").click(function(t,i){var r=$(this).attr("action"),o,u,f,e,i;currentTabIndex=r;o=$(n.panel).find(".menu > li");u=PKLService.url()+api.index+n.intTaskId+"&tabindex="+r;o.removeClass("active");$(this).addClass("active");$($(this).parents(".menu")[0]).attr("tabactive",r);typeof n.IsInitTab=="undefined"&&(f=PKLService.getURLParameters("Page"),e=PKLService.getURLParameters("PageSize"),f!=null&&(u+="&Page="+f),e!=null&&(u+="&PageSize="+e));switch(r){case"0":ht();break;case"1":ct();break;case"2":isEdit?(i=i||{teamId:PKLService.getURLParameters("teamId")||0},TEMP_PAGE_INFO=null,h(i)):lt();break;case"3":loadCommentsTrigger.updateHeaderCount();loadCommentsTrigger.loadComments();break;case"4":PKLService.get({api:"Help/GetFAQ",cache:!1,isShowLoading:!1,data:{id:faqId},OnSuccess:function(t){var i=' <div id="faq">'+t.Data+"<\/div>";$(n.codeView).html(i);Prism.highlightAll()}});break;case"5":TEMP_PAGE_INFO=null;w()}n.IsInitTab=!0;i&&(u+="&"+_.map(Object.keys(i),function(n){return n+"="+i[n]}).join("&"))});$("#btnResetCL").click(function(){var n=ArrTaskDetail.IsQuiz?"TASK_DETAIL_CONFIRM_RESET_CHOICES":"TASK_DETAIL_CONFIRM_RESET_CODE";modal.confirm({content:translate.instant(n),OnSuccess:function(){var n,u;if(ArrTaskDetail.IsQuiz){$("#list-answer li").each(function(){$(this).removeClass("selected");$(this).find("input").prop("checked",!1)});v();return}if(IsReset=!0,ArrResult=null,t){var i=ArrTaskDetail.codeDefault,f=$("#ddlCLLang option:selected").attr("id").getNumber(),r="";if(ArrTaskDetail.Task.task.SampleCode!="")r=ArrTaskDetail.Task.task.SampleCode;else for(n=0;n<i.length;n++)if(i[n].LanguageId==f){r=i[n].Code;break}if(t.setValue(r),ArrTaskDetail.Task.task.SampleCode!=""){const n=t.getModel();if(u=n.findMatches(findDot),u.length>0){const n=u[0].range;t.setSelection(n);t.getAction("actions.find").run();t.onDidScrollChange(function(n){n.scrollTop<=fixScroll.Fixed&&t.setScrollPosition({scrollTop:fixScroll.Position})});t.getScrollTop()<=fixScroll.Fixed&&t.setScrollPosition({scrollTop:fixScroll.Position})}}}else d();CodeView.resetCL();$('ul.view-ouput li[index="1"]').removeClass("active").css("display","none")}})});s=!1;c=!1;$("#btnRunCode").click(function(){var r=$("#ddlCLLang option:selected").attr("id"),i;setCodeId(r);isLoadPage=!1;IsActionSubmit=!1;IsReset=!1;s||c||(s=!0,i={TaskId:n.intTaskId,Id:n.intId,LanguageId:r,Code:Base64.encode(t.getValue()),Score:200,isSubmit:!1,Token:token},n.intId==0&&(i.isSubmit=!0),$(this).attr("disabled","disabled"),PKLService.post({loading:$(".code-panel-right"),url:api.runTest,data:i,timeout:18e4,OnSuccess:function(t){var i,r;s=!1;c=!1;IsPassRun=!0;i=t.Data;i.IsSubmit=!1;n.intId==0&&(i.IsSubmit=!0);r=$(n.panel).find("a.icon-show-hide");$(r[0]).hasClass("up")==!0&&r.click();CodeView.runcode(i,k());$("#btnRunCode").removeAttr("disabled")},OnError:function(){$("#btnRunCode").removeAttr("disabled");s=!1;c=!1}}))});$(window).on("keydown",function(n){if((n.ctrlKey||n.metaKey)&&n.shiftKey)switch(String.fromCharCode(n.which).toLowerCase()){case"r":$("#btnRunCode").trigger("click");n.preventDefault();n.stopPropagation();break;case"e":$("#btnSubmitCode").trigger("click");n.preventDefault();n.stopPropagation()}});kt=function(n,t){var i=$.Deferred();if(!et)return i.reject(t),i.promise();const f=100;var e=0,u=!1,r=function(){$.post("/Tasks/TryGetRunningCodeResponse",n).done(function(n){n&&(clearTimeout(r),u=!0,i.resolve(n))}).always(function(){u||(++e>=f?(clearTimeout(r),i.reject(t)):setTimeout(r,1e3))})};return setTimeout(r,1),i.promise()};$("#btnSubmitCode").click(function(){var f=$("#ddlCLLang option:selected").attr("id"),i,r,u;if(isLoadPage=!1,setCodeId(f),IsReset=!1,isEdit&&(IsEnableSumbit=!0,s=!1),ArrTaskDetail.IsQuiz){pt();return}IsEnableSumbit==!0&&s==!1&&IsPassRun&&IsSubmit&&(i={TaskId:n.intTaskId,Id:n.intId,LanguageId:f,Code:isTaskGit?Base64.encode($('input[name="LinkGit"]').val()):Base64.encode(t.getValue()),isSubmit:!0,ChallengeId:api.index.toLowerCase().startsWith("challenge")?groupId:0,Token:token},r=$(this).attr("isbusy"),r&&r!=="false"||($("#btnSubmitCode").attr("disabled","disabled"),$(this).attr("isbusy",!0),u=this,$("#btnRunCode").attr("disabled","disabled"),c=!0,et=(new Date).getTime(),i.RandomFactor=et,PKLService.post({url:api.runTest,data:i,timeout:18e4,loading:$(".code-panel-right"),OnSuccess:function(t){var r,f;IsActionSubmit=!0;IsPassRun=!1;c=!1;IsSubmit=!1;isTaskGit||(getSetCode(i.LanguageId,i.Code),tt(n.intTaskId,t.Data.Score),$("#btnRunCode").removeAttr("disabled"));r=t.Data;r.IsSubmit=!0;g(t.Data.Score);f=$(n.panel).find("a.icon-show-hide");$(f[0]).hasClass("up")==!0&&f.click();CodeView.runcode(r,k());$(u).attr("isbusy",!1);$($(n.panel).find(".menu > li")[2]).trigger("click")},OnError:function(){$("#btnRunCode").removeAttr("disabled");$(u).attr("disabled");c=!1;IsSubmit=!1},OnTimedOut:function(n){var t={taskId:i.TaskId,randomFactor:i.RandomFactor};return kt(t,n)}})))});ot=PKLService.getURLParameters("tabindex");ot!=null?$($(n.panel).find(".menu > li")[ot]).trigger("click"):$($(n.panel).find(".menu > li")[0]).trigger("click");isTaskGit||ArrTaskDetail.IsQuiz?(b(),u(),isTaskGit&&($(".input-header").addClass("hide"),$(".test-case-container").addClass("hide"),$(".cl-wrap-task-footer").addClass("hide")),y()):d();isLoadComment&&isCountComentTask&&isLoadComment&&loadCommentsTrigger.updateHeaderCount();currentTabIndex==3&&loadCommentsTrigger.loadComments();$(".expand").on("click",function(){if($(window).width()>1e3){if($(this).hasClass("active")){$(".code-panel-left").width($(window).width()*.4);let n=$(window).width()*.6-5;$(".code-panel-right").width(n);$(".code-view").width(n)}else{$(".code-panel-left").width("62px");let n=$(window).width()-65;$(".code-panel-right").width(n);$(".code-view").width(n)}$(this).toggleClass("active")}})},nt=function(t,i,r){var u,e,f;r=r!=""?" "+translate.instant(r).replace("#",blockTime)+" ":"";u=nextTaskId==0?translate.instant("TASK_DETAIL_ACTION_LABEL_NEXT_SECTION")+"?":"";ArrAllTaskList.length>0&&(e=ArrAllTaskList[ArrAllTaskList.length-1],n.intTaskId!=e&&ArrAllTaskList.some(function(t,i){if(t==n.intTaskId)return nextTaskId=ArrAllTaskList[i+1],!0}));nextTaskId>0?modal.confirm({content:(i!=""?translate.instant(i)+"."+r+"<\/br>":i)+(u!=""?u:translate.instant("TASK_DETAIL_CONFIRM_SWITH_TASK")),OnSuccess:function(){location="/"+api.index+nextTaskId+(token!=""?"?token="+token:"")},OnCancel:function(){l()}}):(f=isTestCenter?translate.instant("TASK_DETAIL_BACK_TO_TEST_CENTER"):translate.instant("TASK_DETAIL_BACK_TO_COURSE"),n.type==configType.Contests&&(f=translate.instant("TASK_DETAIL_BACK_TO_CONTEST")),modal.confirm({content:(i!=""?translate.instant(i)+"."+r:i)+"<\/br>"+f+"?",OnSuccess:function(){location="/"+api.back+n.intId+(token!=""?"?token="+token:"")},OnCancel:function(){l()}}))},l=function(){$(".code-panel-left .menu li[action=2] a").trigger("click")},o,pt=function(){if(!o){var i=$("#list-answer"),t={GroupId:n.intId,QuizTaskId:ArrTaskDetail.Id,SelectedChoiceIds:[],Token:token};($("li input:checked",i).each(function(n,i){var r=$(i).val();t.SelectedChoiceIds.push(r)}),t.SelectedChoiceIds.length!=0)&&(o=!0,PKLService.post({url:api.postQuizAnswer,data:t,timeout:6e4,loading:$(".code-panel-right"),OnSuccess:function(t){var i,r,u;try{i=t.Data;g(i.Score);tt(n.intTaskId,i.Score);r=i.Score>0?"TASK_DETAIL_QUIZ_ANSWER_CORRECT_MESSAGE":"TASK_DETAIL_QUIZ_ANSWER_INCORRECT_MESSAGE";u="";isVisibleQuizResult||(r="");n.type==configType.Course&&(u=i.Score<=0&&blockTime>0?"TASK_DETAIL_QUIZ_ANSWER_INCORRECT_MESSAGE_TRY":"");isVisibleQuizResult&&$("#btnSubmitCode").remove();nt(!0,r,u);$(".task-list-select ul li[data="+nextTaskId+"]").removeClass("notAllowNext");$(".task-list-select ul li[data="+nextTaskId+"]").unbind("click");$(".task-list-select ul li[data="+nextTaskId+"]").click(function(){nt(!0,"")})}finally{setTimeout(function(){o=!1},300)}},OnError:function(){$("#btnRunCode").removeAttr("disabled");$(self).attr("disabled");o=!1}}))}},wt=function(n){for(var r=null,t=0;t<i.length;t++)i[t].Id==n&&(r=i[t]);return r},tt=function(t,i){var f=$(".task-list-select ul li[data="+t+"]").attr("title"),r,u;if(parseInt(f)==i&&((!isQuiz||isQuiz&&isVisibleQuizResult)&&$(".task-list-select ul li[data="+t+"]").text("").append('<i class="fa fa-check"><\/i>'),r=-1,ArrTaskList.some(function(n,i){if(n.TaskId==t)return r=i+1,!0}),r<ArrTaskList.length)){if(nextTaskId=ArrTaskList[r].TaskId,(n.type==configType.Contests||isCountDown)&&(u=parseInt($(".task-list-select ul li[data="+nextTaskId+"]").attr("time")),u>currentTime))return;$(".task-list-select ul li[data="+nextTaskId+"]").removeClass("notAllowNext");nextId=nextTaskId}},f=function(){isTaskGit=!1;var u=(new Date).getTime(),r=nextId>0?nextId:n.intTaskId,f=api.index+r+(token!=""?"?token="+token:"");window.history.replaceState("Object","Title","/"+f);isQuiz=nextId>0?$(".task-list-select ul li[data="+nextTaskId+"]").attr("quiz")==!0:isQuiz;PKLService.get({url:api.detail+r+(token!=""?"&token="+token:""),OnSuccess:function(r){var a,v,s,f,h,o,l;if(r&&r.Message!=null&&$.notify(translate.instant(r.Message),{type:"warning",delay:3e3}),linkEditTaskId=r.Data.IsQuiz?r.Data.Id:r.Data.Task.task.Id,nextId>0&&(n.intTaskId=nextId,isEditTask&&(a=api.editTask+nextId,$("#edit-task").attr("href",a))),r.Data.IsQuiz||!r.Data.Task.task.IsGitSubmit){if(timeLoad=Math.round(((new Date).getTime()-u)/UNIT_TIME),timeLoad=timeLoad>0?timeLoad:1,isQuiz=r.Data.IsQuiz,isEditTask=r.Data.IsEdit,i=[],t=null,e=null,CodeView.clear(),ArrTaskDetail=r.Data,ArrTaskList=r.Data.ListTask,ArrAllTaskList=r.Data.ListAllTask!=null?r.Data.ListAllTask:[],blockTime=r.Data.BlockTime,ArrTaskDetail.IsQuiz){c();it();return}for(ArrTestCase=r.Data.TestCases,n.type==configType.Contests&&(userId=r.Data.UserId),v=["postgresql"],s=0;s<ArrTaskDetail.Task.languages.length;s++)f=ArrTaskDetail.Task.languages[s],h={Name:f.Name,Id:f.Id,Code:f.KeyOfLang,RatioTime:f.RatioTime},v.includes(h.Code.toLowerCase())&&(h.Code="mysql"),i.push(h);r.Data.UserTask?(ArrTaskDetail.taskDetail=r.Data.UserTask,o=wt(ArrTaskDetail.taskDetail.LanguageId),o==null&&(o=i[0],ArrTaskDetail.taskDetail.LanguageId=o.Id),ArrTaskDetail.taskDetail.langCode=o.Code,ArrTaskDetail.codeDefault=[],ArrTaskDetail.Task.codeTemps.forEach(function(n){ArrTaskDetail.codeDefault.push({Code:n.Code,LanguageId:n.LanguageId})})):(l=ArrTaskDetail.Task.task.SampleCode,ArrTaskDetail.taskDetail={},ArrTaskDetail.taskDetail.LanguageId=ArrTaskDetail.Task.languages[0].Id,ArrTaskDetail.taskDetail.langCode=ArrTaskDetail.Task.languages[0].KeyOfLang,ArrTaskDetail.codeDefault=[],l!=""?ArrTaskDetail.codeDefault.push({Code:l,LanguageId:ArrTaskDetail.Task.codeTemps[0].LanguageId}):ArrTaskDetail.Task.codeTemps.forEach(function(n){ArrTaskDetail.codeDefault.push({Code:n.Code,LanguageId:n.LanguageId})}));c();it()}else isEditTask=r.Data.IsEdit,isTaskGit=!0,ArrTaskList=r.Data.ListTask,ArrTaskDetail=r.Data,c(),r.Data.UserTask&&r.Data.UserTask.length>0&&$('input[name="LinkGit"]').val(Base64.decode(r.Data.UserTask[0].Code))}})},it=function(){n.type!=configType.Course||isRegiterCourse?isNotAuthen&&($taskRequireLogin='<div class="task-require-login-popup must-login"><div class="wrap-content-require">'+translate.instant("COURSE_MUST_LOGIN")+"<\/div><\/div>",$(".code-panel-right").append($taskRequireLogin)):$(".code-panel-right .task-require-login-popup")[0]||isEdit||($taskRequireLogin=isNotAuthen?'<div class="task-require-login-popup must-login"><div class="wrap-content-require">'+translate.instant("COURSE_MUST_LOGIN")+"<\/div><\/div>":'<div class="task-require-login-popup"><div class="wrap-content-require">'+translate.instant("COURSE_CONFIRM_JOIN")+' <a id="course-register" href="javascript:void(0)" class="btn btn-primary" title="'+translate.instant("PAGES_HOME_ACTION_REGISTERED_NOW")+'">'+translate.instant("PAGES_HOME_ACTION_REGISTERED_NOW")+"<\/a><\/div><\/div>",$(".code-panel-right").append($taskRequireLogin),$("#course-register").click(function(){PKLService.get({url:"CodeCamp/Course/RegisterCourse?courseId="+id,OnSuccess:function(){location.reload()},OnError:function(){console.log("Error register course!")}})}))};return{init:function(t){t=$.extend({strNodeModule:"Themes/TheCodeCampPro/Resources/Lib/monaco-editor/min/",strRequireModule:"vs/editor/editor.main",strSampleURL:"Themes/TheCodeCampPro/Resources/Lib/monaco-editor/code-samples/sample.",codeRender:"#pnCLRender",codeView:"#pnCLTabContent",panel:"",intTaskId:0,intId:0,permalink:""},t);n=t;f()}}}(),CodeView=function(){var n={intTaskId:0,intId:0,scope:null,intNextTask:0,activeTab:function(){},setSubmit:function(){}},t=null,f=function(n,t){var r=n?"Right answer":"Wrong answer",i=translate.instant(r);return i==r&&t>1&&(i+="s"),i},i=function(){for(var i,u,r,c=0,e=0,o=0,l=0,a=0,s=0,v=0,p="",y=[],h=0;h<ArrTestCase.length;h++)i=ArrTestCase[h],t==null?i.Result=null:t.CompileResult==!1&&(i.Result=!1),i.IsHidden==!0&&(o=o+1),i.Result==!0?e=e+1:i.Result==!1&&(c=c+1),i.IsHidden==!0&&(i.Result==!1?(v=v+1,(i.Message=="Time limit exceed"||i.Message=="Quá thời gian giới hạn")&&y.push(h+1)):i.Result==!0&&(a=a+1)),i.IsHidden==!1&&(i.Result==!1?s=s+1:i.Result==!0&&(l=l+1));return u=ArrTestCase.filter(function(n){return n.ErrorCode!=null}).reduce(function(n,t){var i=t.Message;return t.ErrorCode=="2004"&&i.length>25&&(i=translate.instant("TEST_RESULT_RUNTIME_ERROR",2004)),n[i]=(n[i]||0)+1,n},{}),u=Object.keys(u).map(function(n){return{message:(/^[^.:]+/.exec(n)||[""])[0],count:u[n]}}),r=ArrTestCase.filter(function(n){return n.ErrorCode==null&&!n.Result}).reduce(function(n,t){return n.Label=t.Message,n.Count=(n.Count||0)+1,n},{}),r.Label===undefined||r.Label||(r.Label=f(!1,r.Count)),e>0&&s==0&&(IsSubmit=!0,IsPassRun&&$("#btnSubmitCode").removeAttr("disabled")),n.setSubmit.call(this,IsSubmit),y.length>0&&(p=y.toString()),{error:c,sampleSuccess:l,hiddenSuccess:a,sampleError:s,hiddenError:v,success:e,total:ArrTestCase.length,sample:ArrTestCase.length-o,hidden:o,IsSubmit:IsActionSubmit,msgTimeOut:p,testErrors:u,wrongTestCasesSum:r.Label===undefined?null:r}},e=function(n){for(var t="",u=JSON.parse(n),o,f,i,e,t="<div class='col-sm-12 control-label' style='text-align:left;'>",r=0;r<u.length;r++){for(t+="<br/><p><strong>"+u[r].table+"<\/strong><\/p>",t+="<table class='table table-bordered table-sm'>",o=u[r].columns,t+="<thead><tr>",i=0;i<o.length;i++)t+="<th>"+o[i]+"<\/th>";for(t+="<\/tr><\/thead><tbody>",f=u[r].values,i=0;i<f.length;i++){for(t+="<tr>",e=0;e<f[i].length;e++)t+="<td>"+f[i][e]+"<\/td>";t+="<\/tr>"}t+="<\/tbody><\/table>"}return t+"<\/div>"},u=function(n){var t="",r=JSON.parse(n),e,u,i,f;if(n&&r&&r.columns){for(t="<div class='col-sm-12 control-label' style='text-align:left;'>",e=r.columns,t+="<table class='table table-bordered table-sm'>",t+="<thead><tr>",i=0;i<e.length;i++)t+="<th>"+e[i]+"<\/th>";for(t+="<\/tr><\/thead><tbody>",u=r.values,i=0;i<u.length;i++){for(t+="<tr>",f=0;f<u[i].length;f++)t+="<td>"+u[i][f]+"<\/td>";t+="<\/tr>"}t+="<\/tbody><\/table><\/div>"}return t},r=function(){var h,b,w,a,c,s,l,k,f,r;n.scope.find(".code-view-content").css({height:n.scope.height()-35+"px"});var o="",v="",y=i(),p=y.total;if(n.IsSubmit==!1&&(p=y.sample),IsReset||isLoadPage||(t!=null&&t.CompileResult==!1?v+='<div class="compiler-console"><div class="error-title"><div class="icon"><span class="fa fa-exclamation-triangle"><\/span><span>'+y.success+"/"+p+"<\/span><\/div> <label><b>"+translate.instant("TASK_DETAIL_COMPILATION_ERROR")+"<\/b><\/div><\/div>":y.error>0?v+='<div class="compiler-console"><div class="error-title"><div class="icon"><span class="fa fa-exclamation-triangle"><\/span><span>'+y.success+"/"+p+"<\/span><\/div> <label>"+translate.instant("TASK_DETAIL_ANSWER_ONE_MORE_INCORRECT")+"<\/label><\/div><\/div>":n.IsSubmit?n.IsSubmit&&(v+='<div class="compiler-console"><div class="success-title">'+translate.instant("TASK_DETAIL_CASE_PASS")+"<\/div><\/div>"):v+='<div class="compiler-console"><div class="success-title"><b>'+translate.instant("TASK_DETAIL_CASE_SAMPLE_PASS")+"<\/b><br/>"+translate.instant("TASK_DETAIL_COMPILER_PASS_MESS")+"<\/div><\/div>"),!ArrTaskDetail.IsQuiz){for(h="",o=o+"<div class='wrap-test-cases tab-active'>"+v+"<ul class='test-cases'>",b=translate.instant("TASK_DETAIL_LABEL_TEST_CASE_NAME"),f=0;f<ArrTestCase.length;f++){r=ArrTestCase[f];w="";r.Message=r.Message!=null?translate.instant(r.Message.replace("Program exceeded the execution time limit.","Time limit exceed")):"";r.Inputs=$.fn.isVal(r.Inputs,null,"");let n=r.Inputs.split(";#");n=n.filter(function(n){return n!=""});r.Inputs=n.toString();isLoadPage||r.ExcuteTime>=0&&r.Message!="Time limit exceed"&&r.Message!="Quá thời gian giới hạn"&&(w=r.ExcuteTime+" ms");r.ExpectedValue=$.fn.isVal(r.ExpectedValue,null,"");r.TestResult=$.fn.isVal(r.TestResult,null,"");r.Message=$.fn.isVal(r.Message,null,"");r.Message=r.Message.replaceAll(" ","&nbsp;");r.TestCaseName=b+" "+(f+1);a=" active";f>0&&(a="");r.IsHidden==!0?(o=o+'<li class="case-hidden">                        <a class="toggle'+a+'" href="#'+changeToSlug(r.TestCaseName)+'" data="'+f+'"><i class="ti-angle-right"><\/i><span class="tc-label">'+r.TestCaseName+'<\/span><span class="tc-mb-label">'+(f+1)+'<\/span><span class="fa fa-lock"><\/span><\/a> <\/li>',h+="<div id="+changeToSlug(r.TestCaseName)+' class="case-hidden test-case-content'+a+'"><div class="form-horizontal" data="'+f+'">'+translate.instant("TASK_DETAIL_LABEL_HIDDEN_CASE")+'<\/div>                        <div class="form-horizontal" data="'+f+'">'+translate.instant("PAGES_TASK_LABEL_DESCRIPTION")+" : "+(r.Description!=null?r.Description:"")+"<\/div><\/div>"):(r.TestResult=r.TestResult.replaceAll?r.TestResult.replaceAll(" ","&nbsp;"):r.TestResult,r.Inputs=r.Inputs.replaceAll(" ","&nbsp;"),r.ExpectedValue=r.ExpectedValue.replaceAll(" ","&nbsp;"),o=o+'<li class="'+$.fn.isVal(r.IsHidden,!0,"case-hidden")+'"  data-target="'+changeToSlug(r.TestCaseName)+'">                    <a class="toggle'+a+'" href="#'+changeToSlug(r.TestCaseName)+'" data="'+f+'"><i class="ti-angle-right"><\/i><span class="tc-label">'+r.TestCaseName+'<\/span><span class="tc-mb-label">'+(f+1)+"<\/span>",h+="<div id="+changeToSlug(r.TestCaseName)+' class="test-case-content'+a+'">',r.Result!=undefined&&(r.Result==!0?o=o+'<span class="fa fa-check-circle-o"><\/span>':IsReset||(o=o+'<span class="fa fa-exclamation-triangle"><\/span>')),c=r.Inputs,s=parseInt(r.TestResult)==0?0:r.TestResult?r.TestResult:"",s!=""&&typeof s=="string"&&(s=s.replaceAll("\n","\\n"),s=s.replace(/(\\r)*\\n/g,"<br/>")),l=r.ExpectedValue.replace(/(\\r)*\\n/g,"<br/>"),ArrTaskDetail.Task.tables&&ArrTaskDetail.Task.tables.length>0?(c.length>0&&(c=e(c)),l.length>0&&(l=u(l)),s.length>0&&(s=u(s))):(c="<div class='col-sm-8 control-label' style='text-align:left;'>"+c+"<\/div>",l="<div class='col-sm-8 control-label' style='text-align:left;'>"+l+"<\/div>",s="<div class='col-sm-8 control-label' style='text-align:left;'>"+s+"<\/div>"),o=o+"<\/a>",k="",h+='<div class="form-horizontal" data="'+f+'">                        <div class="form-group">                            <label class="col-sm-4 control-label text-left" > '+translate.instant("TASK_DETAIL_LABEL_INPUT")+":<\/label >                            "+c+'                        <\/div>                        <div class="form-group">                            <label class="col-sm-4 control-label text-left" > '+translate.instant("TASK_DETAIL_LABEL_OUTPUT")+":<\/label >                            "+s+'                        <\/div>                        <div class="form-group" >                            <label class="col-sm-4 control-label text-left" > '+translate.instant("TASK_DETAIL_LABEL_EXPCTED_OUTPUT")+":<\/label >                            "+l+'                        <\/div>                        <div class="form-group" >                            <label class="col-sm-4 control-label text-left" > '+translate.instant("TASK_DETAIL_LABEL_TIME_LIMIT")+':<\/label >                            <div class="col-sm-8 control-label time-limit" time='+r.ExecuteTimeLimit+' style="text-align:left;">'+$("#ddlCLLang option:selected").attr("ratio")*Math.round(r.ExecuteTimeLimit*UNIT_TIME)+' ms<\/div>                        <\/div>                        <div class="form-group" >                            <label class="col-sm-4 control-label text-left" > '+translate.instant("TASK_DETAIL_LABEL_EXCUTE_TIME")+':<\/label >                            <div class="col-sm-8 control-label" style="text-align:left;">'+w+'<\/div>                        <\/div>                        <div class="form-group">                            <label class="col-sm-4 control-label text-left" > '+translate.instant("TASK_DETAIL_LABEL_MESSAGE")+':<\/label >                            <div class="col-sm-8 control-label" style="text-align:left;"><div id="txtRunContentMesseger_'+f+'"><\/div><\/div>                        <\/div>                        <div class="form-group hide">                            <label class="col-sm-4 control-label text-left" > '+translate.instant("PAGES_TASK_LABEL_DESCRIPTION")+':<\/label >                            <div class="col-sm-8 control-label" style="text-align:left;">'+(r.Description!=null?r.Description:"")+"<\/div>                        <\/div>",!r.Console||(r.Console=translate.tranText(r.Console,compilerMsgs),h+='<div class="form-group console">                                <label class="col-sm-12 control-label text-left" > '+translate.instant("TASK_DETAIL_CASE_CONSOLE")+':<\/label >                                <div class="col-sm-12 control-label" style="text-align:left;">'+r.Console.replace(/\n/g,"<br/>")+"<\/div>                            <\/div>"),h+="<\/div><\/div>",o=o+"<\/li>")}for(o=o+"<\/ul><div class='wrap-test-cases-content'>"+h+"<\/div><\/div>                                <div class='wrap-main-console'><\/div>",n.scope.find(".code-view-content").html(o),n.scope.find(".code-view-content:not(.active)").find("a.toggle").click(function(n){n.preventDefault();var t=$(this).closest(".code-view-content");t.find(".test-cases a.active").removeClass("active");t.find(".wrap-test-cases-content .test-case-content").removeClass("active");$(this).addClass("active");t.find($(this).attr("href")).addClass("active")}),f=0;f<ArrTestCase.length;f++)r=ArrTestCase[f],$("#txtRunContentMesseger_"+f).html(translate.instant(r.Message).replace(/\n/g,"<br />"))}},o=function(){var r,u,l,o;if(!ArrTaskDetail.IsQuiz)if(t==null)n.scope.find(".code-view-content").html("");else{if(r=i(),u=r.total,n.IsSubmit==!1&&(u=r.sample),l=MainstrHTML="",t.CompileResult==!1)MainstrHTML='<div class="compiler-console"><div class="error-title"><div class="icon"><span class="fa fa-exclamation-triangle"><\/span><span>'+r.success+"/"+u+"<\/span><\/div><label><b>"+translate.instant("TASK_DETAIL_COMPILATION_ERROR")+"<\/b><\/div><textarea><\/textarea><\/div>";else if(r.IsSubmit||n.ArrCaseSate.length==1){var e="",f="",a="";r.sampleError==0&&(e="point-success");r.hiddenError==0&&(f="point-success");r.sampleError+r.hiddenError>0?MainstrHTML='<div class="compiler-console"><div class="error-title"><div class="icon"><span class="fa fa-exclamation-triangle"><\/span> <span>'+r.success+"/"+u+"<\/span> "+translate.instant("TASK_DETAIL_DIDN_PASS")+"<\/div>":(a="point-success",MainstrHTML='<div class="compiler-console"><div class="success-title"><div class="icon"><span class="fa fa-check-circle-o"><\/span> <span>'+r.success+"/"+u+"<\/span> "+translate.instant("TASK_DETAIL_CASE_PASS")+"<\/div>");o="";r.msgTimeOut!=""&&(o='<div style="clear: both;"><span>'+translate.instant("TASK_DETAIL_SUBMIT_MESSAGE_01")+': <\/span> <span class="'+f+'">'+r.msgTimeOut+"<\/span><\/div>");MainstrHTML=MainstrHTML+'                    <div style="clear: both;"><span>'+translate.instant("TASK_DETAIL_CASE_SUCCESS_HIDDEN")+':<\/span> <span class="'+e+'">'+r.sampleSuccess+"/"+r.sample+'<\/span><\/div>                    <div style="clear: both;"><span>'+translate.instant("TASK_DETAIL_CASE_SUCCESS_SAMPLE")+':<\/span> <span class="'+f+'">'+r.hiddenSuccess+"/"+r.hidden+'<\/span><\/div>                    <div style="clear: both;"><span>'+translate.instant("TASK_DETAIL_CASE_SUCCESS_SCORE")+':<\/span> <span class="'+f+'">'+t.Score+"/"+t.TotalScore+"<\/span><\/div>                    ";MainstrHTML+="<div>"+(r.testErrors||[]).map(function(n){return"<div class='test-case-error'><span>"+translate.instant(n.message)+":<\/span> <span>"+n.count+" test case"+(n.count==1?"":"s")+"<\/span><\/div>"}).join("")+"<\/div>";r.wrongTestCasesSum&&(MainstrHTML+="<div><span>"+r.wrongTestCasesSum.Label+":<\/span> <span>"+r.wrongTestCasesSum.Count+" test case"+(r.wrongTestCasesSum.Count==1?"":"s")+"<\/span><\/div><\/div>")}else if(n.intId==0){var s="TASK_DETAIL_CASE_PASS",h="success-title",c="fa fa-check-circle-o";r.hiddenError+r.sampleError>0&&(h="error-title",c="fa fa-exclamation-triangle",s="TASK_DETAIL_ANSWER_ONE_MORE_INCORRECT");MainstrHTML='<div class="compiler-console"><div class="'+h+'"><div class="icon"><span class="'+c+'"><\/span> <span>'+r.success+"/"+u+"<\/span> "+translate.instant(s)+'<\/div>                    <div style="clear:both;"><span>'+translate.instant("TASK_DETAIL_CASE_SUCCESS_HIDDEN")+":<\/span> "+r.sampleSuccess+"/"+r.sample+'<\/div>                    <div style="clear:both;"><span>'+translate.instant("TASK_DETAIL_CASE_SUCCESS_SAMPLE")+":<\/span> "+r.hiddenSuccess+"/"+r.hidden+"<\/div>                    <\/div>"}n.scope.find(".wrap-main-console").html(MainstrHTML);n.scope.find(".wrap-test-cases-content").addClass("console-active");n.scope.find(".code-view-content").find("textarea").val(t.CompileMessage).autoReSize()}};return{resetCL:function(){ArrTaskDetail.IsQuiz||PKLService.get({url:isTestCenter?api.getTestCaseInfo:api.getTestCaseInfo+"?taskId="+n.intTaskId+"&IsSubmit=true",OnSuccess:function(t){ArrTestCase=t.Data;n.ArrCaseSate=JSON.parse(JSON.stringify(t.Data));r();n.scope.find(".compiler-console").html("");n.scope.find(".wrap-compiler-console").html("")}})},clear:function(){t=null;n.IsSubmit=null},init:function(t){n=$.extend(n,t);n.ArrCaseSate=JSON.parse(JSON.stringify(ArrTestCase));r();$(document).trigger("after_render_control")},action:function(n){n==0?r():o()},runcode:function(r,u){var e,h,c,l,f,v,a,p;if(!ArrTaskDetail.IsQuiz){for(r.CompileMessage&&(r.CompileMessage=translate.tranText(r.CompileMessage,compilerMsgs)),ArrTestCase=JSON.parse(JSON.stringify(n.ArrCaseSate)),t=r,n.intNextTask=u,n.IsSubmit=t.IsSubmit,e=0;e<ArrTestCase.length;e++)for(h=0;h<t.TestResults.length;h++)c=t.TestResults[h],c.Id==ArrTestCase[e].TestCaseId?(ArrTestCase[e]=$.extend(ArrTestCase[e],c),ArrTestCase[e].IsFind=!0):ArrTestCase[e].IsFind!=!0&&(ArrTestCase[e].Result=null,ArrTestCase[e].IsFind=!1);if(l=i(),t.CompileResult==!1?(n.showHideTab.call(this,1,!0),n.activeTab.call(this,1)):l.hiddenError>0?(n.showHideTab.call(this,1,!0),n.activeTab.call(this,1)):(n.showHideTab.call(this,1,!1),n.activeTab.call(this,0)),t.IsSubmit==!0&&t.CompileResult==!0&&l.error==0&&($('li[action="5"]').removeClass("hide"),n.showHideTab.call(this,1,!0),n.activeTab.call(this,1),n.intId>0)){if(f='<div class="row task-complete"><div class="col-sm-12" align="center"><img src="'+imgCup+'" style="width:120px;">',f+='<h1 class="col-sm-12" align="center" style="margin-top:15px;">'+translate.instant("TASK_DETAIL_LABEL_CONFGRATIONLATION")+" <b>"+userName+"!<\/b><\/h1>",f+='<h3 align="center" style="margin-bottom: 30px;">'+translate.instant("TASK_DETAIL_FINISH_TASK")+"<\/h3>",f+="<\/div>",f+='<div align="center">',n.type==configType.Training||n.type==configType.Challenge)f+='<a href="javascript:void(0)" id="stay-page" class="btn btn-info">'+translate.instant("TASK_DETAIL_STAY_PAGE")+"<\/a>",v=n.type==configType.Training?translate.instant("TASK_DETAIL_BACK_TO_TRAINING"):translate.instant("TASK_DETAIL_BACK_TO_CHALLENGE"),f+='<a href="/'+api.listTask+'" id="try-other" class="btn btn-info">'+v+"<\/button>";else{var o=-1,s=ArrTaskList[ArrTaskList.length-1].TaskId,y=n.intTaskId==s?translate.instant("TASK_DETAIL_ACTION_LABEL_NEXT_SECTION"):"";n.type==configType.Course?(s=ArrAllTaskList[ArrAllTaskList.length-1],ArrAllTaskList.some(function(t,i){if(t==n.intTaskId)return o=i,o<ArrAllTaskList.length&&(nextTaskId=ArrAllTaskList[o+1]),!0})):ArrTaskList.some(function(n,t){if(n.TaskId==nextTaskId)return o=t,!0});(nextTaskId==0||n.intTaskId==s)&&(a=isTestCenter?translate.instant("TASK_DETAIL_BACK_TO_TEST_CENTER"):translate.instant("TASK_DETAIL_BACK_TO_COURSE"),n.type==configType.Contests&&(a=translate.instant("TASK_DETAIL_BACK_TO_CONTEST")));nextTaskId>0&&o<(ArrAllTaskList.length==0?ArrTaskList.length:ArrAllTaskList.length)&&n.intTaskId!=s&&(n.type==configType.Contests?(p=parseInt($(".task-list-select ul li[data="+nextTaskId+"]").attr("time")),p>currentTime?f+='<a href="javascript:void(0)" id="stay-page" class="btn btn-info">'+translate.instant("TASK_DETAIL_MESSAGE_01")+"<\/a>":(f+='<a href="javascript:void(0)" id="stay-page" class="btn btn-info">'+translate.instant("TASK_DETAIL_MESSAGE_01")+"<\/a>",f+='<a href="/'+api.index+nextTaskId+(token!=""?"?token="+token:"")+'" id="try-other" class="btn btn-info">'+translate.instant("TASK_DETAIL_ACTION_LABEL_TRY_OTHER_TASK")+"<\/button>")):(f+='<a href="javascript:void(0)" id="stay-page" class="btn btn-info">'+translate.instant("TASK_DETAIL_MESSAGE_01")+"<\/a>",f+='<a href="/'+api.index+nextTaskId+(token!=""?"?token="+token:"")+'" id="try-other" class="btn btn-info">'+(y==""?translate.instant("TASK_DETAIL_ACTION_LABEL_TRY_OTHER_TASK"):y)+"<\/button>"));(nextTaskId==0||n.intTaskId==s)&&(f+='<a href="javascript:void(0)" id="stay-page" class="btn btn-info">'+translate.instant("TASK_DETAIL_MESSAGE_01")+"<\/a>",f+='<a href="/'+api.back+n.intId+(token!=""?"?token="+token:"")+'" id="try-other" class="btn btn-info">'+a+"<\/button>")}f+="<\/div>";f+="<\/div>";modal.popup({content:f,title:"",showHeader:!1,showFootder:!1,css:{body:"padding:50px;border-radius: 10px;box-shadow: 0 2px 15px 0 rgba(97,97,97,0.5);"},OnInit:function(n){$(n).css({top:"15%"})}});closePopUp()}}}}}();$(document).ready(function(){function i(){$("body").append(t)}var t="",n;$(document).bind("after_render_control",function(){$("body").append('<a href="#" class="open-tour" title="'+translate.instant("OPEN_TOUR")+'">'+translate.instant("OPEN_TOUR")+"<\/a>");t='<div class="wrap-start-tour-block"><div class="start-tour-content">        <h3 class="tour-heading">'+translate.instant("HOME_TOUR_1")+'<\/h3>        <h4 class="tour-des">'+translate.instant("HOME_TOUR_2")+'<\/h4>        <div class="tour-buttons"><a href="#" class="tour-btn continue-tour-btn" title="'+translate.instant("COURSE_TOURE_CONTINURE")+'">'+translate.instant("COURSE_TOURE_CONTINURE")+'<\/a><a href="#" class="tour-btn cancel-tour-btn" title="'+translate.instant("COURSE_TOURE_SKIP")+'">'+translate.instant("COURSE_TOURE_SKIP")+"<\/a><\/div>        <\/div><\/div>";getCookie("cl_task_tour")||i()});$(document).on("click",".start-tour-content .tour-btn",function(t){if(t.preventDefault(),$(this).hasClass("continue-tour-btn")){if(!n){if(n=new Tour({debug:!0,backdrop:!0,backdropPadding:10,smartPlacement:!1,storage:!1,placement:"bottom",template:"<div class='popover tour cl-tour'>                    <h3 class='popover-title'><\/h3>                    <div class='popover-content'><\/div>                    <div class='popover-navigation'>                        <button class='tour-btn sec-tour-btn' data-role='prev'>"+translate.instant("COURSE_TOURE_BACK")+"<\/button>                        <button class='tour-btn' data-role='next'>"+translate.instant("COURSE_TOURE_CONTINURE")+"<\/button>                        <button class='tour-btn finish-tour disabled' data-role='end'>"+translate.instant("COURSE_TOURE_COMPLETE")+"<\/button>                        <button class='tour-btn cancel-tour-btn' data-role='end'>"+translate.instant("COURSE_TOURE_SKIP")+"<\/button>                    <\/div>                    <\/div> ",onEnd:function(){$("body").removeClass("on-tour");getCookie("cl_task_tour")||setCookie("cl_task_tour",1,30)}}),$(".task-require-login-popup:not(.must-login)")[0]&&n.addStep({element:".task-require-login-popup:not(.must-login)",title:translate.instant("TASK_TOUR_REGISTER_COURSE"),placement:"bottom"}),$(".task-require-login-popup.must-login")[0]?n.addStep({element:".task-require-login-popup.must-login",title:translate.instant("TASK_TOUR_LOGIN"),placement:"bottom"}):$(".cl-wrap-task-footer #login-header")[0]&&n.addStep({element:".cl-wrap-task-footer #login-header",title:translate.instant("TASK_TOUR_LOGIN"),placement:$(window).width()>1024?"left":"top",template:"<div class='popover tour bottom-left cl-tour'>                                <h3 class='popover-title'><\/h3>                                <div class='popover-content'><\/div>                                <div class='popover-navigation'>                                    <button class='tour-btn sec-tour-btn' data-role='prev'>"+translate.instant("COURSE_TOURE_BACK")+"<\/button>                                    <button class='tour-btn' data-role='next'>"+translate.instant("COURSE_TOURE_CONTINURE")+"<\/button>                                    <button class='tour-btn finish-tour disabled' data-role='end'>"+translate.instant("COURSE_TOURE_COMPLETE")+"<\/button>                                    <button class='tour-btn cancel-tour-btn' data-role='end'>"+translate.instant("COURSE_TOURE_SKIP")+"<\/button>                                <\/div>                                <\/div> "}),$(".task-list-select ul li")[0]&&n.addStep({element:".task-list-select ul",title:translate.instant("TASK_TOUR_LIST_TASKS"),placement:"bottom",template:"<div class='popover tour list-task cl-tour'>                        <h3 class='popover-title'><\/h3>                        <div class='popover-content'><\/div>                        <div class='popover-navigation'>                            <button class='tour-btn sec-tour-btn' data-role='prev'>"+translate.instant("COURSE_TOURE_BACK")+"<\/button>                            <button class='tour-btn' data-role='next'>"+translate.instant("COURSE_TOURE_CONTINURE")+"<\/button>                            <button class='tour-btn finish-tour disabled' data-role='end'>"+translate.instant("COURSE_TOURE_COMPLETE")+"<\/button>                            <button class='tour-btn cancel-tour-btn' data-role='end'>"+translate.instant("COURSE_TOURE_SKIP")+"<\/button>                        <\/div>                        <\/div> "}),$('.code-panel-left .menu>li[action="0"]:not(.hide)')[0]&&n.addStep({element:'.code-panel-left .menu>li[action="0"]',title:translate.instant("TASK_TOUR_MAIN_CONTENT"),placement:"right"}),$('.code-panel-left .menu>li[action="1"]:not(.hide)')[0]&&n.addStep({element:'.code-panel-left .menu>li[action="1"]',title:translate.instant("TASK_TOUR_LEADER_BOARD"),placement:"right"}),$('.code-panel-left .menu>li[action="2"]:not(.hide)')[0]&&n.addStep({element:'.code-panel-left .menu>li[action="2"]',title:translate.instant("TASK_TOUR_SUBMIT_HISTORY"),placement:"right"}),$('.code-panel-left .menu>li[action="5"]:not(.hide)')[0]&&n.addStep({element:'.code-panel-left .menu>li[action="5"]',title:translate.instant("TASK_TOUR_SOLUTION"),placement:"right"}),$('.code-panel-left .menu>li[action="3"]:not(.hide)')[0]&&n.addStep({element:'.code-panel-left .menu>li[action="3"]',title:translate.instant("TASK_TOUR_COMMENT"),placement:"right"}),$('.code-panel-left .menu>li[action="4"]:not(.hide)')[0]&&n.addStep({element:'.code-panel-left .menu>li[action="4"]',title:translate.instant("TASK_TOUR_FAQ"),placement:"right"}),$("#ddlCLLang")[0]&&n.addStep({element:"#ddlCLLang",title:translate.instant("TASK_TOUR_CODE_SELECT"),placement:"bottom",template:"<div class='popover tour list-task cl-tour'>                        <h3 class='popover-title'><\/h3>                        <div class='popover-content'><\/div>                        <div class='popover-navigation'>                            <button class='tour-btn sec-tour-btn' data-role='prev'>"+translate.instant("COURSE_TOURE_BACK")+"<\/button>                            <button class='tour-btn' data-role='next'>"+translate.instant("COURSE_TOURE_CONTINURE")+"<\/button>                            <button class='tour-btn finish-tour disabled' data-role='end'>"+translate.instant("COURSE_TOURE_COMPLETE")+"<\/button>                            <button class='tour-btn cancel-tour-btn' data-role='end'>"+translate.instant("COURSE_TOURE_SKIP")+"<\/button>                        <\/div>                        <\/div> "}),$("#pnCLRender>.monaco-editor")[0]){let t="left";$(window).width()<1025&&(t="bottom");$(window).width()<993&&(t="top");n.addStep({element:"#pnCLRender>.monaco-editor",title:translate.instant("TASK_TOUR_CODE_EDITOR"),placement:t})}$("#pnCLRender>.quiz-container")[0]&&n.addStep({element:"#pnCLRender>.quiz-container",title:translate.instant("TASK_TOUR_QUIZ"),placement:$(window).width()>992?"left":"top"});$("#pnCLRender>#link-git-container")[0]&&(n.addStep({element:"#pnCLRender>#link-git-container",title:translate.instant("TASK_TOUR_GIT"),placement:"bottom"}),$("#link-git-container .btn-submit-code.git")[0]&&n.addStep({element:"#link-git-container .btn-submit-code.git",title:translate.instant("TASK_TOUR_SUBMIT"),placement:$(window).width()>1024?"right":"bottom"}));$(".cl-wrap-task-footer:not(.hide)")[0]&&$("#btnRunCode")[0]&&n.addStep({element:"#btnRunCode",title:translate.instant("TASK_TOUR_RUN_CODE"),placement:$(window).width()>1024?"left":"top",template:"<div class='popover tour bottom-left cl-tour'>                        <h3 class='popover-title'><\/h3>                        <div class='popover-content'><\/div>                        <div class='popover-navigation'>                            <button class='tour-btn sec-tour-btn' data-role='prev'>"+translate.instant("COURSE_TOURE_BACK")+"<\/button>                            <button class='tour-btn' data-role='next'>"+translate.instant("COURSE_TOURE_CONTINURE")+"<\/button>                            <button class='tour-btn finish-tour disabled' data-role='end'>"+translate.instant("COURSE_TOURE_COMPLETE")+"<\/button>                            <button class='tour-btn cancel-tour-btn' data-role='end'>"+translate.instant("COURSE_TOURE_SKIP")+"<\/button>                        <\/div>                        <\/div> "});$(".test-case-container:not(.hide)")[0]&&n.addStep({element:".test-case-container",title:translate.instant("TASK_TOUR_TEST_CASE"),placement:"top"});$(".cl-wrap-task-footer:not(.hide)")[0]&&$("#btnSubmitCode")[0]&&n.addStep({element:"#btnSubmitCode",title:translate.instant("TASK_TOUR_SUBMIT"),placement:$(window).width()>1024?"left":"top",template:"<div class='popover tour bottom-left cl-tour'>                        <h3 class='popover-title'><\/h3>                        <div class='popover-content'><\/div>                        <div class='popover-navigation'>                            <button class='tour-btn sec-tour-btn' data-role='prev'>"+translate.instant("COURSE_TOURE_BACK")+"<\/button>                            <button class='tour-btn' data-role='next'>"+translate.instant("COURSE_TOURE_CONTINURE")+"<\/button>                            <button class='tour-btn finish-tour disabled' data-role='end'>"+translate.instant("COURSE_TOURE_COMPLETE")+"<\/button>                            <button class='tour-btn cancel-tour-btn' data-role='end'>"+translate.instant("COURSE_TOURE_SKIP")+"<\/button>                        <\/div>                        <\/div> "})}n.ended()&&n.init();setTimeout(function(){n.ended()?n.restart():n.start()},300);$("body").addClass("on-tour")}else setCookie("cl_task_tour",1,30);$(".wrap-start-tour-block").fadeOut()});$(document).on("click",".open-tour",function(n){n.preventDefault();$(".wrap-start-tour-block")[0]?$(".wrap-start-tour-block").fadeIn():i()})});